{"version":3,"sources":["../../server/app.js"],"names":["express","require","mongoose","Promise","config","http","connect","mongo","uri","options","connection","on","err","console","error","process","exit","seedDB","app","server","createServer","startServer","angularFullstack","listen","port","ip","log","get","exports","module"],"mappings":"AAAA;;;;AAIA;;;;;;;;AAEA,IAAIA,UAAUC,QAAQ,SAAR,CAAd;AACA,IAAIC,WAAWD,QAAQ,UAAR,CAAf;AACAC,SAASC,OAAT,GAAmBF,QAAQ,UAAR,CAAnB;AACA,IAAIG,SAASH,QAAQ,sBAAR,CAAb;AACA,IAAII,OAAOJ,QAAQ,MAAR,CAAX;;AAEA;AACAC,SAASI,OAAT,CAAiBF,OAAOG,KAAP,CAAaC,GAA9B,EAAmCJ,OAAOG,KAAP,CAAaE,OAAhD;AACAP,SAASQ,UAAT,CAAoBC,EAApB,CAAuB,OAAvB,EAAgC,UAASC,GAAT,EAAc;AAC5CC,UAAQC,KAAR,CAAc,+BAA+BF,GAA7C;AACAG,UAAQC,IAAR,CAAa,CAAC,CAAd;AACD,CAHD;;AAKA;AACA,IAAIZ,OAAOa,MAAX,EAAmB;AAAEhB,UAAQ,eAAR;AAA2B;;AAEhD;AACA,IAAIiB,MAAMlB,SAAV;AACA,IAAImB,SAASd,KAAKe,YAAL,CAAkBF,GAAlB,CAAb;AACAjB,QAAQ,kBAAR,EAA4BiB,GAA5B;AACAjB,QAAQ,UAAR,EAAoBiB,GAApB;;AAGA;AACA,SAASG,WAAT,GAAuB;AACrBH,MAAII,gBAAJ,GAAuBH,OAAOI,MAAP,CAAcnB,OAAOoB,IAArB,EAA2BpB,OAAOqB,EAAlC,EAAsC,YAAW;AACtEZ,YAAQa,GAAR,CAAY,4CAAZ,EAA0DtB,OAAOoB,IAAjE,EAAuEN,IAAIS,GAAJ,CAAQ,KAAR,CAAvE;AACD,GAFsB,CAAvB;AAGD;;AAED,4BAAaN,WAAb;;AAEA;AACAO,UAAUC,OAAOD,OAAP,GAAiBV,GAA3B","file":"app.js","sourcesContent":["/**\n * Main application file\n */\n\n'use strict';\n\nvar express = require('express');\nvar mongoose = require('mongoose');\nmongoose.Promise = require('bluebird');\nvar config = require('./config/environment');\nvar http = require('http');\n\n// Connect to MongoDB\nmongoose.connect(config.mongo.uri, config.mongo.options);\nmongoose.connection.on('error', function(err) {\n  console.error('MongoDB connection error: ' + err);\n  process.exit(-1);\n});\n\n// Populate databases with sample data\nif (config.seedDB) { require('./config/seed'); }\n\n// Setup server\nvar app = express();\nvar server = http.createServer(app);\nrequire('./config/express')(app);\nrequire('./routes')(app);\n\n\n// Start server\nfunction startServer() {\n  app.angularFullstack = server.listen(config.port, config.ip, function() {\n    console.log('Express server listening on %d, in %s mode', config.port, app.get('env'));\n  });\n}\n\nsetImmediate(startServer);\n\n// Expose app\nexports = module.exports = app;\n"]}