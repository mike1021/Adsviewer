{"version":3,"sources":["../../../../client/app/account/settings/settings.controller.js"],"names":["SettingsController","Auth","form","submitted","$valid","changePassword","user","oldPassword","newPassword","then","message","catch","password","$setValidity","errors","other","angular","module","controller"],"mappings":"AAAA;;;;;;IAEMA,kB;AAEJ,8BAAYC,IAAZ,EAAkB;AAAA;;AAChB,SAAKA,IAAL,GAAYA,IAAZ;AACD;;;;mCAEcC,I,EAAM;AAAA;;AACnB,WAAKC,SAAL,GAAiB,IAAjB;;AAEA,UAAID,KAAKE,MAAT,EAAiB;AACf,aAAKH,IAAL,CAAUI,cAAV,CAAyB,KAAKC,IAAL,CAAUC,WAAnC,EAAgD,KAAKD,IAAL,CAAUE,WAA1D,EACGC,IADH,CACQ,YAAM;AACV,gBAAKC,OAAL,GAAe,gCAAf;AACD,SAHH,EAIGC,KAJH,CAIS,YAAM;AACXT,eAAKU,QAAL,CAAcC,YAAd,CAA2B,UAA3B,EAAuC,KAAvC;AACA,gBAAKC,MAAL,CAAYC,KAAZ,GAAoB,oBAApB;AACA,gBAAKL,OAAL,GAAe,EAAf;AACD,SARH;AASD;AACF;;;;;;AAGHM,QAAQC,MAAR,CAAe,cAAf,EACGC,UADH,CACc,oBADd,EACoClB,kBADpC","file":"settings.controller.js","sourcesContent":["'use strict';\n\nclass SettingsController {\n\n  constructor(Auth) {\n    this.Auth = Auth;\n  }\n\n  changePassword(form) {\n    this.submitted = true;\n\n    if (form.$valid) {\n      this.Auth.changePassword(this.user.oldPassword, this.user.newPassword)\n        .then(() => {\n          this.message = 'Password successfully changed.';\n        })\n        .catch(() => {\n          form.password.$setValidity('mongoose', false);\n          this.errors.other = 'Incorrect password';\n          this.message = '';\n        });\n    }\n  }\n}\n\nangular.module('adsviewerApp')\n  .controller('SettingsController', SettingsController);\n"]}