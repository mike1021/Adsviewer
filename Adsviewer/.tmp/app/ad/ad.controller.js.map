{"version":3,"sources":["../../../client/app/ad/ad.controller.js"],"names":["AdComponent","$http","$scope","$mdMedia","filepicker","files","performUpload","status","customFullscreen","filter","get","success","data","ads","originalads","error","err","console","log","that","aux","newad","active","post","push","index","delete","_id","splice","edit","put","name","resetads","ad","angular","module","component","templateUrl","controller","config","filepickerProvider","setKey"],"mappings":"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","file":"ad.controller.js","sourcesContent":["'use strict';\n\n(function(){\n\nclass AdComponent {\n\n  constructor($http, $scope, $mdMedia, filepicker) {\n    this.$scope = $scope;\n    this.$http = $http;\n    this.$mdMedia= $mdMedia;\n    //this.filepickerProvider.setKey('AZby333WhT5Wkm6tWskTOz');\n    //this.Upload=Upload;\n    $scope.files = {\n    };\n    $scope.performUpload = false;\n\n    $scope.status = '  ';\n    $scope.customFullscreen = $mdMedia('xs') || $mdMedia('sm');\n    $scope.filter='none';\n     $http.get('/api/ads')\n      .success(function(data) {\n        $scope.ads = data;\n        $scope.originalads = data;\n        //console.log($scope.eventos);\n      })\n        .error(function(err) {\n          console.log('Error! Problema de conexi√≥n', err);\n        });\n  }\n  addad() {\n    console.log('prueba agregar');\n    var that=this;\n    var aux = that.$scope.newad;\n    aux.active=false;\n    that.$http.post('/api/ads',aux)\n    .success(function (){\n      that.$scope.ads.push(aux);\n      that.$scope.newad = {};\n    })\n    .error(function(error){\n      console.log('Error');\n    }); \n  }\n  deletead(index) {\n      var that=this;\n      //console.log(ad);\n       that.$http.delete('/api/ads/'+ that.$scope.ads[index]._id)\n       .success(function(){\n        that.$scope.ads.splice(index,1);\n       })\n       .error(function(err){\n        console.log('Error',err);\n       });\n    }\n    toggleEdit(index){\n      var that=this;\n      that.$scope.ads[index].edit= !that.$scope.ads[index].edit;\n    }\n    savead(index){\n      var that=this;\n      console.log(that.$scope.ads[index]);\n      that.$http.put('/api/ads/' + that.$scope.ads[index]._id, that.$scope.ads[index])\n      .success(function() {\n        that.$scope.ads[index].edit = false;\n      })\n      .error(function(err){\n        console.log('Error');\n      });\n    }\n    resetads(){\n      var that = this;\n      that.$scope.ads = that.$scope.originalads;\n      that.$scope.filter = 'none';\n    }\n    filterByad(name){\n      var that=this;\n      that.resetads();\n      that.$scope.ads = that.$scope.ads.filter(function(ad){\n        return ad.name === name;\n      });\n      that.$scope.filter = 'Nombre: '+ name; \n    }\n \n}\n\nangular.module('adsviewerApp')\n  .component('ad', {\n    templateUrl: 'app/ad/ad.html',\n    controller: AdComponent\n  })\n  .config(function (filepickerProvider){\n    filepickerProvider.setKey('AZby333WhT5Wkm6tWskTOz');\n  });\n\n\n})();\n"]}